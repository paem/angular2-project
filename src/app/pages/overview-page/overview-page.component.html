<title>Equilab | Overview</title>

<div class="container">
  <div class="wrapper">

    <div [ngSwitch]="current" id="page-wrapper" [@slideToLeft]="'true'">

      <md-card>
        <md-tab-group>
          <md-tab>

            <!--  <p>{{weekday | date:"ww"}}</p>  -->

            <template class="tabColor" md-tab-label>
              Months
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>


            <hr style="border-color: lightgrey; width:100%;">
            <p *ngFor='let v of _values2'>{{ v }} </p>
          </md-tab>
          <md-tab>
            <template  md-tab-label>
              Weeks
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>

            <div class="rTable" style="width: 100%; height: 170px;">
              <div class="rTableRow">

                <div style="display: inline-table;" >
                <div class="rowsPadding rTableHead">Horses</div>
                <div *ngFor="let i of weeks" ngClass="rowsPadding rTableHead">{{i?.name}}</div>
                </div>
                <div style="display: block" *ngFor="let horse of myPonnys; let i = index"  >
                  <h4 [attr.data-target]="'#'+i" data-toggle="collapse"  class="rowsPadding">{{horse?.name}}</h4>
                  <div class="collapse" [attr.id]="i" style="">

                    <div class="" *ngFor="let training of horse?.trainingsData; let trainingIndex = index"

                         style="display: inline-flex; border: 1px solid black; margin-left: 20px; margin-top: 10px; width: 1100px;">
                      <div class="rTableHead rowsPadding">{{ training?.date | date:'MMM:d,EEEE' }}</div><br>
                      <div *ngSwitchCase="'2'" >
                      <div *ngIf="!isLoading" class="container-fluid" style="display:inline; margin-top: 5px;">

                        <p  style="display: inline; ">Gait:</p>
                        <canvas style="display: inline;" baseChart width="100" height="70"
                                [datasets]="[{data: [training?.canter?.time.toFixed(1), training?.trot?.time.toFixed(1), training?.walk?.time.toFixed(1)]}]"
                                [labels]="barChartLabels"
                                [options]="barChartOptions"
                                [colors]="barChartColors"
                                [chartType]="barChartType"></canvas>
                      </div>
                      </div>
                      <div *ngSwitchCase="'1'">
                        <p >Surface: {{training?.ground}}</p><br>
                      </div>
                      <div *ngSwitchCase="'3'">
                        <p>Time: {{training?.total.time | secondsToTime}}</p><br>
                      </div>
                      <div *ngSwitchCase="'4'">
                        <p>Distance: {{training?.total.distance | distance}}</p><br>
                      </div>
                      <div *ngSwitchCase="'6'">
                      <div *ngIf="!isLoading" class="container-fluid">
                        <p style="display: inline">Turns: </p>
                        <canvas style="" baseChart width="150" height="75"
                                [datasets]="[{data: [training?.turns?.leftTotal, training?.turns?.rightTotal],label: ['Left Turns', 'Right Turns']}]"
                                [labels]="pieChartLabels"
                                [options]="pieChartOptions"
                                [colors]="pieChartColors"
                                [chartType]="pieChartType"
                        ></canvas>
                      </div></div><br>
                      <div *ngSwitchCase="'7'">
                      <p>Horse Performance: {{training?.horse_performance}}/5</p>
                      </div><br>
                      <div *ngSwitchCase="'5'">
                        <p>Rider Performance: {{training?.rider_performance}}/5</p><br>
                      </div>

                    </div>
                  </div>
                </div>


              </div>
            </div>
            <hr style="border-color: lightgrey; width:100%;">
          </md-tab>

        <md-tab>
            <template md-tab-label>
              Days
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>


            <div class="rTable" style="width: 320px; height: 170px;">
              <div style="display: inline-table;" >
                <div style="font-size: 19px;" class="rowsPadding rTableHead">Horses</div>

              </div>
              <div class="rTableRow">
              <div style="display: block" *ngFor="let horse of myPonnys; let i = index"  >
                <h4  [attr.data-target]="'#'+i" data-toggle="collapse"  class="rowsPadding">{{horse?.name}}</h4>
                  <div class="collapse" [attr.id]="i" style="">

                    <div class="" *ngFor="let training of horse?.trainingsData; let trainingIndex = index" style="display: inline-flex;  margin-left: 20px; ;
  margin-right: auto ; width: 100%; border: 1px solid black; margin-top: 10px;">

                      <p>{{ training?.date | date:'MMM:d,EEEE' }}</p><br>

                      <div *ngSwitchCase="'2'" >
                      <div *ngIf="!isLoading" class="container-fluid" style="display:inline; margin-top: 5px;" >

                        <p>Gait:</p>
                        <canvas style="display: inline-flex;" baseChart width="100" height="70"
                                [datasets]="[{data: [training?.canter?.time.toFixed(1), training?.trot?.time.toFixed(1), training?.walk?.time.toFixed(1)]}]"
                                [labels]="barChartLabels"
                                [options]="barChartOptions"
                                [colors]="barChartColors"
                                [chartType]="barChartType"></canvas>
                      </div>
                      </div>

                      <div *ngSwitchCase="'1'">
                        <p> Surface: {{training?.ground}}</p><br>
                      </div>
                      <div *ngSwitchCase="'3'">
                        <p>Time: {{training?.total.time | secondsToTime}}</p><br>
                      </div>
                      <div *ngSwitchCase="'4'">
                        <p>Distance: {{training?.total.distance | distance}}</p><br>
                      </div>
                      <div *ngSwitchCase="'6'">
                       <div *ngIf="!isLoading" class="container-fluid" style="margin-top: 5px;">
                       <p style="display: inline">Turns: </p>
                        <canvas style="" baseChart width="150" height="75"

                                [datasets]="[{data: [training?.turns?.leftTotal, training?.turns?.rightTotal],label: ['Left Turns', 'Right Turns']}]"
                                [labels]="pieChartLabels"
                                [options]="pieChartOptions"
                                [colors]="pieChartColors"
                                [chartType]="pieChartType"
                                ></canvas>
                      </div>
                      </div><br>
                      <div *ngSwitchCase="'7'">
                        <p>Horse Performance: {{training?.horse_performance}}/5</p>
                      </div><br>
                     <div *ngSwitchCase="'5'">
                       <p >Rider Performance: {{training?.rider_performance}}/5</p><br>
                     </div>
                    </div>
                  </div>
                  </div>
                  </div>

                </div>

                <hr style="border-color: lightgrey; width:100%;">


          </md-tab>
        </md-tab-group>
      </md-card>
    </div>
  </div>
</div>

